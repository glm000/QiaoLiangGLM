@using Webdiyer.WebControls.Mvc
@model PagedList<JiYiTunnelSystem.Dto.SensorDto>

<table class="table table-striped">
    @if (Model.Count > 0)
    {
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.Shaft)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.EngName)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.SectionNum)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.SensorNum)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.SensorType)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.State)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.LatestData)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.LatestTime)
            </th>
            <th></th>
        </tr>

        foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.Shaft)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.EngName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.SectionNum)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.SensorNum)
                </td>
                <td>
                    @if (item.SensorType == "YB")
                    {@Html.DisplayName("应变")}
                    else if (item.SensorType == "WY")
                    {@Html.DisplayName("位移") }
                    else if (item.SensorType == "ZD")
                    { @Html.DisplayName("振动")}
                    else if (item.SensorType == "YL")
                    { @Html.DisplayName("压力")}
                    else if (item.SensorType == "GJ")
                    { @Html.DisplayName("钢筋应力")}
                </td>
                <td>
                    @if (item.State)
                    {@Html.DisplayName("在线");
                }
                else
                { @Html.DisplayName("离线");
            }
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.LatestData)
                    @if (!string.IsNullOrEmpty(item.LatestData.ToString()))
                    {
                        if (item.SensorType == "YB")
                        {@Html.DisplayName(" ×10ˉ⁶")}
                    else if (item.SensorType == "WY")
                    {@Html.DisplayName(" mm") }
                else if (item.SensorType == "ZD")
                { @Html.DisplayName(" mm/s")}
            else if (item.SensorType == "YL")
            { @Html.DisplayName(" Mpa")}
        else if (item.SensorType == "GJ")
        { @Html.DisplayName(" MPa")}
}
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.LatestTime)
                </td>
                <td>
                    @Html.ActionLink("编辑", "EditSensor", new { id = item.Id, url = Request.RawUrl })
                    @*<a href="#" id="@item.Id" class="delete">删除</a>*@
                </td>
            </tr>
        }
    }
    else
    {
        <span class="tb-err-txt">无数据</span>
    }
    <tfoot>
        <tr>
            <td colspan="9">
                <nav>
                    @Ajax.Pager(Model, new PagerOptions {
                   PageIndexParameterName = "pageIndex",ContainerTagName = "ul", CssClass = "pagination",
                   CurrentPagerItemTemplate = "<li class=\"active\"><a href=\"#\">{0}</a></li>",
                   DisabledPagerItemTemplate = "<li class=\"disabled\"><a>{0}</a></li>",
                   PagerItemTemplate = "<li>{0}</li>", Id = "bootstrappager",
                   //RouteValues=new RouteValueDictionary { { "shaftSelect",ViewBag.ShaftSelect},{ "engSelect",ViewBag.EngSelect},
                   //    { "sectionSelect",ViewBag.SectionSelect} }
               }, new MvcAjaxOptions { UpdateTargetId ="tableData", DataFormId = "search",LoadingElementId="loading" })
                </nav>
            </td>
        </tr>
    </tfoot>
</table>